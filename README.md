# Genesis: ä¸ºç®—æ³•ç«èµ›è€Œç”Ÿçš„æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨

[](https://www.google.com/search?q=https://www.npmjs.com/package/genesis-kit)
[](https://www.google.com/search?q=https://github.com/yviscool/genesis/blob/main/LICENSE)

**Genesis** æ˜¯ä¸€ä¸ªä¸ºç®—æ³•ç«èµ›å‡ºé¢˜äººã€é€‰æ‰‹å’Œæ•™ç»ƒé‡èº«æ‰“é€ çš„ã€æå…¶ç®€å•æ˜“ç”¨çš„æµ‹è¯•æ•°æ®ç”Ÿæˆå·¥å…·ã€‚å®ƒå°†ç¹ççš„ç¼–è¯‘ã€æ•°æ®ç”Ÿæˆã€æ–‡ä»¶ I/O æµç¨‹è‡ªåŠ¨åŒ–ï¼Œè®©ä½ èƒ½ä¸“æ³¨äº**æ•°æ®æœ¬èº«çš„è®¾è®¡**ï¼Œè€Œéè¿‡ç¨‹çš„å®ç°ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

  * **å£°æ˜å¼ API**: ä½¿ç”¨é“¾å¼è°ƒç”¨ `.case()` ç›´è§‚åœ°å®šä¹‰æ¯ä¸ªæµ‹è¯•ç‚¹ï¼Œä»£ç ç»“æ„ä¸æ•°æ®é€»è¾‘é«˜åº¦ä¸€è‡´ã€‚
  * **å¼ºå¤§çš„æ•°æ®ç”Ÿæˆå™¨ (`G`)**: å†…ç½®ä¸°å¯Œã€ä¾¿æ·çš„ç”Ÿæˆå‡½æ•° (`G.int`, `G.permutation`, `G.matrix`, `G.even` ç­‰)ï¼Œæ»¡è¶³ 99% çš„åŸºç¡€æ•°æ®éœ€æ±‚ã€‚
  * **æ™ºèƒ½æ ¼å¼åŒ–**: ä½ åªéœ€è¿”å›ç»“æ„åŒ–çš„æ•°æ®ï¼ˆå¦‚ `[[n, m], grid]`ï¼‰ï¼ŒGenesis ä¼šè‡ªåŠ¨å¤„ç†ç©ºæ ¼å’Œæ¢è¡Œï¼Œç”Ÿæˆç¬¦åˆè¦æ±‚çš„ `.in` æ–‡ä»¶ã€‚**æ— è®º `grid` æ˜¯æ•°å­—çŸ©é˜µè¿˜æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œå®ƒéƒ½èƒ½æ­£ç¡®å¤„ç†ï¼**
  * **è‡ªåŠ¨ç¼–è¯‘ä¸ç¼“å­˜**: è‡ªåŠ¨æ¢æµ‹ C++ ç¼–è¯‘å™¨ï¼ˆ`g++` / `clang++`ï¼‰ï¼Œå¹¶å¯¹æ ‡ç¨‹è¿›è¡Œç¼–è¯‘ã€‚åŸºäºæ–‡ä»¶å†…å®¹å’Œç¼–è¯‘å‚æ•°çš„æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œæºç ä¸å˜åˆ™æ— éœ€é‡å¤ç¼–è¯‘ï¼Œæå¤§æå‡æ•ˆç‡ã€‚
  * **é«˜æ€§èƒ½**: åˆ©ç”¨ Node.js çš„å¼‚æ­¥ç‰¹æ€§å’Œå¤šæ ¸å¿ƒ CPUï¼Œå¹¶è¡Œç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œé€Ÿåº¦é£å¿«ã€‚
  * **è·¨å¹³å°**: åœ¨ Windows (MSYS2/MinGW)ã€macOS å’Œ Linux ä¸Šå‡å¯æ— ç¼å·¥ä½œã€‚

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### 1\. å®‰è£…

ç¡®ä¿ä½ å·²ç»å®‰è£…äº† [Node.js](https://nodejs.org/) (v16+) å’Œ [Bun](https://bun.sh/) (æˆ– `tsx` ç”¨äºæ‰§è¡Œ TypeScript)ã€‚

åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œå°† Genesis æ·»åŠ åˆ°å¼€å‘ä¾èµ–ï¼š

```bash
bun add genesis-kit --dev
# æˆ–è€…ä½¿ç”¨ npm / yarn / pnpm
# npm install genesis-kit --save-dev
```

### 2\. ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ª `make.ts`

å‡è®¾ä½ çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```
.
â”œâ”€â”€ std.cpp        # ä½ çš„ C++ æ ‡ç¨‹
â””â”€â”€ make.ts        # ä½ çš„æ•°æ®ç”Ÿæˆè„šæœ¬
```

ç°åœ¨ï¼Œç¼–å†™ `make.ts` æ¥ç”Ÿæˆ A+B Problem çš„æ•°æ®ï¼š

```typescript
// make.ts
import { Maker, G } from 'genesis-kit';

Maker
  // Case 1: å°æ•°æ®
  .case('Small Numbers', () => {
    const a = G.int(1, 100);
    const b = G.int(1, 100);
    return [[a, b]]; // -> ä¼šè¢«æ ¼å¼åŒ–ä¸º "a b"
  })

  // Case 2-6: æ‰¹é‡ç”Ÿæˆ 5 ä¸ªéšæœºä¸­ç­‰æ•°æ®
  .cases(5, () => {
    const a = G.int(1000, 100000);
    const b = G.int(1000, 100000);
    return [[a, b]];
  })

  // Case 7: æé™æ•°æ®
  .case('Max Numbers', () => {
    const a = 1_000_000_000;
    const b = 1_000_000_000;
    return [[a, b]];
  })

  // å¯åŠ¨ç”Ÿæˆæµç¨‹!
  .generate();
```

### 3\. è¿è¡Œ

æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œï¼š

```bash
bun make.ts
# æˆ–è€…
tsx make.ts
```

**å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ**

Genesis ä¼šï¼š

1.  æ‰¾åˆ°å¹¶ç¼–è¯‘ä½ çš„ `std.cpp` æ–‡ä»¶ã€‚
2.  å¹¶è¡Œæ‰§è¡Œ 7 ä¸ª `case` çš„ç”Ÿæˆé€»è¾‘ã€‚
3.  å°†æ¯ä¸ª `case` çš„è¿”å›å€¼ï¼ˆä¾‹å¦‚ `[[10, 20]]`ï¼‰æ™ºèƒ½æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ˆ`"10 20"`ï¼‰ã€‚
4.  å°†æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œè¿è¡Œç¼–è¯‘å¥½çš„æ ‡ç¨‹ã€‚
5.  å°†è¾“å…¥å’Œè¾“å‡ºåˆ†åˆ«ä¿å­˜åˆ° `data/` ç›®å½•ä¸‹çš„ `1.in`, `1.out`, `2.in`, `2.out`, ...

ä½ ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•çœ‹åˆ°ä¸€ä¸ª `data` æ–‡ä»¶å¤¹ï¼ŒåŒ…å«äº†æ‰€æœ‰ç”Ÿæˆçš„æµ‹è¯•æ•°æ®ï¼Œå¯ä»¥ç›´æ¥ç”¨äºè¯„æµ‹ï¼

## ğŸ“š API å‚è€ƒ

### `Maker` API

`Maker` æ˜¯ `Genesis` çš„ä¸»å…¥å£ï¼Œé‡‡ç”¨é“¾å¼è°ƒç”¨è®¾è®¡ã€‚æ•´ä¸ªæµç¨‹çš„æ ¸å¿ƒæ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„æµ‹è¯•ç”¨ä¾‹ï¼ˆTest Casesï¼‰ï¼Œç„¶åå¯åŠ¨ç”Ÿæˆã€‚

#### **å®šä¹‰æµ‹è¯•ç‚¹: `.case()` ä¸ `.cases()`**

è¿™æ˜¯ `Genesis` æœ€æ ¸å¿ƒçš„ä¸¤ä¸ªæ–¹æ³•ï¼Œç”¨äºå®šä¹‰ä½ æƒ³è¦ç”Ÿæˆçš„æµ‹è¯•æ•°æ®ã€‚

##### **`.case()`: åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æµ‹è¯•ç‚¹**

æ¯æ¬¡è°ƒç”¨ `.case()` éƒ½ä¼šå‘ç”Ÿæˆé˜Ÿåˆ—ä¸­æ·»åŠ **ä¸€ä¸ª**æµ‹è¯•ä»»åŠ¡ã€‚æœ€ç»ˆï¼Œè¿™ä¼šç”Ÿæˆ**ä¸€ç»„**å¯¹åº”çš„è¾“å…¥/è¾“å‡ºæ–‡ä»¶ï¼ˆä¾‹å¦‚ `1.in` å’Œ `1.out`ï¼‰ã€‚

ä½ æä¾›çš„ç”Ÿæˆå™¨å‡½æ•° `generator` çš„è¿”å›å€¼ï¼Œæ„æˆäº†è¿™**ä¸€ä¸ª** `.in` æ–‡ä»¶çš„**å…¨éƒ¨å†…å®¹**ã€‚

```typescript
// è¯­æ³•
.case(label: string, generator: () => any) // å¸¦æ ‡ç­¾ï¼Œç”¨äºåœ¨æ—¥å¿—ä¸­åŒºåˆ†
.case(generator: () => any)                // åŒ¿å

// ç¤ºä¾‹
Maker
  .case('Sample 1', () => { /* ... */ }) // -> å°†ç”Ÿæˆ 1.in / 1.out
  .case('Edge Case', () => { /* ... */ }) // -> å°†ç”Ÿæˆ 2.in / 2.out
```

##### **`.cases()`: æ‰¹é‡åˆ›å»ºå¤šä¸ªç›¸ä¼¼çš„æµ‹è¯•ç‚¹**

`.cases(N, generator)` æ˜¯ä¸€ä¸ªä¾¿æ·çš„ APIï¼Œå®ƒç­‰åŒäºå°†åŒä¸€ä¸ª `generator` è°ƒç”¨ `N` æ¬¡çš„ `.case()`ã€‚

è¿™ä¼šå‘é˜Ÿåˆ—ä¸­æ·»åŠ  **N ä¸ª**ç‹¬ç«‹çš„æµ‹è¯•ä»»åŠ¡ï¼Œæœ€ç»ˆç”Ÿæˆ **N ç»„**æ–‡ä»¶ï¼ˆä¾‹å¦‚ä» `3.in`/`3.out` ä¸€ç›´åˆ° `7.in`/`7.out`ï¼‰ã€‚

ç”Ÿæˆå™¨å‡½æ•° `generator` ä¼šè¢«**ç‹¬ç«‹æ‰§è¡Œ N æ¬¡**ï¼Œæ¯æ¬¡çš„æ‰§è¡Œç»“æœéƒ½å°†ç”¨äºåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ `.in` æ–‡ä»¶ï¼Œç¡®ä¿äº†æ•°æ®çš„éšæœºæ€§å’Œå¤šæ ·æ€§ã€‚

```typescript
// è¯­æ³•
.cases(count: number, generator: () => any)

// ç¤ºä¾‹
Maker
  .case('Sample', () => { /* ... */ })       // -> ç”Ÿæˆ 1.in / 1.out
  .cases(5, () => {
    // è¿™ä¸ªå‡½æ•°ä¼šè¢«ç‹¬ç«‹æ‰§è¡Œ 5 æ¬¡
    const a = G.int(1, 100);
    const b = G.int(1, 100);
    return [[a, b]];
  })                                       // -> ä¾æ¬¡ç”Ÿæˆ 2.in/out, 3.in/out, 4.in/out, 5.in/out, 6.in/out
```

-----

#### **é…ç½®ä¸å¯åŠ¨**

##### **`.configure(config: GenesisConfig)`**

åœ¨è°ƒç”¨é“¾çš„**ä»»æ„ä½ç½®**ï¼ˆé€šå¸¸æ˜¯å¼€å¤´ï¼‰ä½¿ç”¨ï¼Œç”¨äºå¯¹ `Genesis` çš„é»˜è®¤è¡Œä¸ºè¿›è¡Œé…ç½®ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰æ­¥éª¤ã€‚

```typescript
Maker.configure({
  solution: 'main.cpp',   // æŒ‡å®šæ ‡ç¨‹æ–‡ä»¶å (é»˜è®¤: 'std.cpp')
  outputDir: 'testdata',  // æŒ‡å®šè¾“å‡ºç›®å½• (é»˜è®¤: 'data')
  compiler: 'g++-12',     // æ‰‹åŠ¨æŒ‡å®šç¼–è¯‘å™¨ (é»˜è®¤: è‡ªåŠ¨æ¢æµ‹ g++ æˆ– clang++)
  startFrom: 1,           // æ–‡ä»¶ç¼–å·èµ·å§‹å€¼ (é»˜è®¤: 1)
});
```

##### **`.generate(): Promise<void>`**

**å¿…é¡»åœ¨é“¾å¼è°ƒç”¨çš„æœ«å°¾è°ƒç”¨**ã€‚å®ƒä¼šå¯åŠ¨æ•´ä¸ªè‡ªåŠ¨åŒ–æµç¨‹ï¼šç¼–è¯‘ã€ç”Ÿæˆã€è¿è¡Œæ ‡ç¨‹ã€ä¿å­˜æ–‡ä»¶ã€‚

### `G` (Generator) API

`G` å¯¹è±¡æä¾›äº†ä¸€ç³»åˆ—å¼€ç®±å³ç”¨çš„æ•°æ®ç”Ÿæˆå‡½æ•°ã€‚

#### æ•°å­— (Numbers)

| å‡½æ•°                  | æè¿°                                           | ç¤ºä¾‹                                  |
| --------------------- | ---------------------------------------------- | ------------------------------------- |
| `G.int(min, max)`       | ç”Ÿæˆ `[min, max]` å†…çš„éšæœºæ•´æ•°ã€‚                 | `G.int(1, 10)` -\> `7`                 |
| `G.ints(count, min, max)` | ç”Ÿæˆ `count` ä¸ª `[min, max]` å†…çš„æ•´æ•°æ•°ç»„ã€‚      | `G.ints(3, 1, 10)` -\> `[2, 9, 4]`     |
| `G.even(min, max)`      | ç”Ÿæˆ `[min, max]` å†…çš„éšæœºå¶æ•°ã€‚                 | `G.even(1, 10)` -\> `6`                |
| `G.odd(min, max)`       | ç”Ÿæˆ `[min, max]` å†…çš„éšæœºå¥‡æ•°ã€‚                 | `G.odd(1, 10)` -\> `3`                 |
| `G.float(min, max, prec)` | ç”Ÿæˆ `[min, max]` å†…å¸¦ `prec` ä½å°æ•°çš„æµ®ç‚¹æ•°ã€‚ | `G.float(0, 1, 2)` -\> `0.42`          |

#### å­—ç¬¦ä¸² (Strings)

| å‡½æ•°                     | æè¿°                               | ç¤ºä¾‹                                     |
| ------------------------ | ---------------------------------- | ---------------------------------------- |
| `G.string(len, charset)`   | ç”ŸæˆæŒ‡å®šé•¿åº¦å’Œå­—ç¬¦é›†çš„å­—ç¬¦ä¸²ã€‚       | `G.string(5, 'abc')` -\> `"bacaa"`        |
| `G.word(min, max)`         | ç”Ÿæˆ `[min, max]` é•¿åº¦çš„å°å†™å•è¯ã€‚ | `G.word(3, 5)` -\> `"hello"`              |
| `G.words(count, min, max)` | ç”Ÿæˆ `count` ä¸ªéšæœºå•è¯æ•°ç»„ã€‚        | `G.words(2, 3, 5)` -\> `["world", "cup"]` |

#### æ•°ç»„ä¸ç»“æ„ (Arrays & Structures)

| å‡½æ•°                          | æè¿°                                               | ç¤ºä¾‹                                       |
| ----------------------------- | -------------------------------------------------- | ------------------------------------------ |
| `G.array(count, fn)`          | ç”Ÿæˆ `count` ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œå…ƒç´ ç”± `fn(i)` ç”Ÿæˆã€‚     | `G.array(3, i => i*i)` -\> `[0, 1, 4]`      |
| `G.matrix(r, c, fn)`        | ç”Ÿæˆ `r`x`c` çŸ©é˜µï¼Œå•å…ƒæ ¼ç”± `fn(i, j)` ç”Ÿæˆã€‚      | `G.matrix(2,2,() => 0)` -\> `[[0,0],[0,0]]` |
| `G.permutation(n, oneBased?)` | ç”Ÿæˆ `n` çš„å…¨æ’åˆ— (é»˜è®¤ä» 1 å¼€å§‹)ã€‚                | `G.permutation(3)` -\> `[2, 1, 3]`          |
| `G.shuffle(arr)`              | éšæœºæ‰“ä¹±æ•°ç»„ï¼ˆè¿”å›æ–°æ•°ç»„ï¼‰ã€‚                         | `G.shuffle([1,2,3])` -\> `[3, 1, 2]`        |
| `G.sample(arr, k)`            | ä»æ•°ç»„ä¸­ä¸é‡å¤åœ°æŠ½å– `k` ä¸ªå…ƒç´ ã€‚                  | `G.sample(['a','b','c'], 2)` -\> `['c', 'a']` |

#### æ—¥æœŸ (Dates)

| å‡½æ•°                  | æè¿°                             | ç¤ºä¾‹                                          |
| --------------------- | -------------------------------- | --------------------------------------------- |
| `G.isLeap(year)`      | åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ã€‚                   | `G.isLeap(2000)` -\> `true`                    |
| `G.date(options)`     | ç”Ÿæˆæ ¼å¼åŒ–çš„éšæœºæ—¥æœŸå­—ç¬¦ä¸²ã€‚       | `G.date({format: 'YYYY/MM/DD'})` -\> `"2025/10/14"` |

## ğŸ§  æ™ºèƒ½æ ¼å¼åŒ–ï¼šæ‰€è§å³æ‰€å¾—

æˆ‘ä»¬åšä¿¡ï¼Œå‡ºé¢˜äººåº”è¯¥ä¸“æ³¨äº**æ•°æ®é€»è¾‘**ï¼Œè€Œä¸æ˜¯**è¾“å‡ºæ ¼å¼**ã€‚å› æ­¤ï¼ŒGenesis çš„ `case` å‡½æ•°è¿”å›å€¼ API è¢«è®¾è®¡å¾—æå…¶ç›´è§‚ï¼Œéµå¾ªâ€œæ‰€è§å³æ‰€å¾—â€çš„å“²å­¦ã€‚

**ä½ åªéœ€è¦è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ç»“æ„å°±æ˜¯ä½ æƒ³è¦çš„ `.in` æ–‡ä»¶çš„â€œè“å›¾â€**ã€‚

**æ ¸å¿ƒè§„åˆ™**:

1.  **ä¸€ç»´æ•°ç»„æˆ–å•ä¸ªå€¼** (`[n, m]`, `100`) -\> **å•è¡Œ** (å…ƒç´ é—´ç”¨ç©ºæ ¼éš”å¼€)ã€‚
2.  **äºŒç»´æ•°ç»„/çŸ©é˜µ** (`[[1,0], [0,1]]`) -\> **å¤šè¡Œ** (è‡ªåŠ¨æ ¼å¼åŒ–æ¯ä¸€è¡Œ)ã€‚
3.  **ä¸€ç»´å­—ç¬¦ä¸²æ•°ç»„** (`['.##.', '..#.']`) -\> **å¤šè¡Œ** (æ¯ä¸ªå­—ç¬¦ä¸²ä¸ºç‹¬ç«‹ä¸€è¡Œ)ã€‚

**ç¤ºä¾‹ï¼šä¸¤ç§æœ€å¸¸ç”¨çš„ Grid æ ¼å¼ï¼Œç°åœ¨éƒ½æ”¯æŒï¼**

```typescript
// --- æ–¹å¼ä¸€: ç›´æ¥è¿”å›æ•°å­—çŸ©é˜µ (æ¨èï¼Œæ›´ç®€æ´) ---
.case('Number Matrix', () => {
  const n = 3, m = 4;
  // G.matrix è¿”å›ä¸€ä¸ªæ•°å­—çŸ©é˜µï¼Œä¾‹å¦‚ [[0,1,0,1], [1,...], ...]
  const grid = G.matrix(n, m, () => G.int(0, 1));

  // ç›´æ¥è¿”å›ï¼Genesis ä¼šæ™ºèƒ½åœ°å°† grid çŸ©é˜µçš„æ¯ä¸€è¡Œæ ¼å¼åŒ–ã€‚
  return [
    [n, m], // -> "3 4"
    grid    // -> "0 1 0 1\n1 1 0 0\n0 0 1 1"
  ];
})

// --- æ–¹å¼äºŒ: è¿”å›å­—ç¬¦ä¸²æ•°ç»„ (åŒæ ·æ”¯æŒ) ---
.case('String Array', () => {
    const n = 2, m = 5;
    // æ‰‹åŠ¨å°† grid çš„æ¯ä¸€è¡Œå¤„ç†æˆå­—ç¬¦ä¸²
    const grid = G.matrix(n, m, () => G.sample(['.', '#'], 1)[0])
                 .map(row => row.join('')); // grid -> ['.##.#', '#..##']

    return [
        [n, m], // -> "2 5"
        grid    // -> ".##.#\n#..##"
    ];
})
```

è¿™ä¸ªå¼ºå¤§è€Œç®€å•çš„æ¨¡å‹è¦†ç›–äº†ç»å¤§å¤šæ•°ç«èµ›é¢˜ç›®çš„è¾“å…¥æ ¼å¼ï¼Œè®©ä½ èƒ½å¤Ÿä»¥æœ€è‡ªç„¶çš„æ–¹å¼æ€è€ƒå’Œç¼–å†™ä»£ç ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ PR å’Œ Issueï¼å¦‚æœä½ æœ‰æ–°çš„ç”Ÿæˆå™¨å‡½æ•°å»ºè®®ï¼Œæˆ–è€…å‘ç°äº†ä»»ä½• Bugï¼Œè¯·ä¸è¦çŠ¹è±«ï¼Œåœ¨ GitHub ä¸Šå‘Šè¯‰æˆ‘ä»¬ã€‚

## ğŸ“œ å¼€æºè®¸å¯

æœ¬é¡¹ç›®åŸºäº [MIT License](https://www.google.com/search?q=./LICENSE) å¼€æºã€‚